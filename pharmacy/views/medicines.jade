extends layout
block content
    h1(style="text-align:center") Welcome to #{title}!
    h3 Medicine Details
    form(id='form', method='post', action='/deletemultiplemedicines')
      table.table.table-striped.table-bordered.table-hover
        tr
          th Name
          th Manufacturer
          th Batch No.
          th Expiration Date
          th Price
          th Type
          th Edit
          th Delete
          th Delete Multiple
        each medicine in medicines
          tr
            td #{medicine.name}
            td #{medicine.manufacturer }
            td #{medicine.batchNo}
            td #{medicine.expirationDate}
            td #{medicine.price}
            td #{medicine.type}
            td
              a.btn.btn-sm.btn-info(href='/editmedicine/#{medicine.medicineId}') Edit
            td
              a.btn.btn-sm.btn-warning(href='/deletemedicine/#{medicine.medicineId}') Delete
            td
              input(type="checkbox", name='chk' value='#{medicine.medicineId}' onchange='onChkChange(#{medicine.medicineId})')
      a.btn.btn-primary(href='/addmedicine') Add Medicine
      input.btn.btn-warning(type='submit', value='Delete Seleced Medicines', style='float:right')
    script
      | var delIds = [];
      | var onChkChange = function(medicineId) {
      |   if(this.delIds.find(id => id==medicineId)){
      |     this.delIds.splice(this.delIds.indexOf(medicineId), 1);
      |   }
      |   else{
      |    this.delIds.push(medicineId);
      |   }
      |   console.log(delIds);
      | }
